# ============================================
# MemeStore 环境配置文件
# ============================================
# 说明：
# 1. 复制此文件为 .env 并根据你的实际情况修改
# 2. 生产环境请务必修改所有默认密码和密钥
# 3. .env 文件不会被提交到 Git
# ============================================

# 数据库配置
# 本地开发: postgresql://postgres:password@localhost:5432/memestore
# Docker 部署: postgresql://postgres:password@postgres:5432/memestore
DATABASE_URL=postgresql://postgres:password@localhost:5432/memestore

# Redis 配置
# 本地开发: redis://localhost:6379
# Docker 部署: redis://redis:6379
REDIS_URL=redis://localhost:6379

# MinIO 对象存储配置
# 本地开发使用 localhost，Docker 部署使用 minio
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false

# JWT 配置
# ⚠️ 生产环境必须修改为强随机密钥，可运行: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# 文件上传限制
MAX_FILE_SIZE=10485760
ALLOWED_MIME_TYPES=image/jpeg,image/png,image/gif,image/webp

# 服务器端口
# 本地开发建议使用非特权端口（如 3001）避免权限问题
BACKEND_PORT=3001

# CORS 配置
# 本地开发: http://localhost:5173
# 生产环境: https://your-domain.com
FRONTEND_URL=http://localhost:5173

# ============================================
# GitHub OAuth 配置（可选）
# ============================================
# 说明：
# - GitHub 登录是可选功能，不配置也能正常使用
# - 如果不配置，登录页面将不显示"使用 GitHub 登录"按钮
# - 只需要用户名密码注册/登录即可
# 
# 如果要启用 GitHub 登录：
# 1. 访问 https://github.com/settings/developers 创建 OAuth App
# 2. Homepage URL: 你的前端地址（如 http://localhost:5173）
# 3. Callback URL: 你的后端地址 + /api/auth/github/callback
#    示例: http://localhost:3001/api/auth/github/callback
# 4. 将获得的 Client ID 和 Secret 填入下方
# 5. 取消注释以下三行
#GITHUB_CLIENT_ID=your_github_client_id
#GITHUB_CLIENT_SECRET=your_github_client_secret
#GITHUB_REDIRECT_URI=http://localhost:3001/api/auth/github/callback

# ============================================
# Google OAuth 配置（可选 - 未来支持）
# ============================================
# 说明：Google 登录功能将在未来版本支持
# 配置方式与 GitHub 类似，届时将自动启用
#GOOGLE_CLIENT_ID=your_google_client_id
#GOOGLE_CLIENT_SECRET=your_google_client_secret
#GOOGLE_REDIRECT_URI=http://localhost:3001/api/auth/google/callback
